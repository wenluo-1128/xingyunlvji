<view class="container">
  <view class="form-box" wx:if="{{isLogin}}">
    <!-- 登录表单 -->
    <view class="input-group">
      <input type="text" placeholder="请输入手机号" 
             bindinput="onInput" data-type="username"/>
    </view>
    <view class="input-group">
      <input password placeholder="请输入密码" 
             bindinput="onInput" data-type="password"/>
    </view>
    <button class="btn" bindtap="handleLogin">登 录</button>
    <view class="switch-form">
      <text>没有账号？</text>
      <text class="link" bindtap="toggleForm">立即注册</text>
    </view>
  </view>

  <view class="form-box" wx:else>
    <!-- 注册表单 -->
    <view class="input-group">
      <input type="text" placeholder="请输入账号名称" 
             bindinput="onInput" data-type="name"/>
    </view>
    <view class="input-group">
      <input type="text" placeholder="请输入手机号" 
             bindinput="onInput" data-type="regUsername"/>
    </view>
    <view class="input-group">
      <input password placeholder="请输入密码" 
             bindinput="onInput" data-type="regPassword"/>
    </view>
    <view class="input-group">
      <input password placeholder="确认密码" 
             bindinput="onInput" data-type="confirmPwd"/>
    </view>
    <view class="input-group avatar-box">
      <view class="avatar-picker" bindtap="uploadAvatar">
        <image class="avatar" src="{{ avatarUrl || '/images/110.jpg' }}" mode="aspectFill"/>
        <view class="upload-btn">
          <text class="icon">+</text>
          <text>上传头像（可选）</text>
        </view>
      </view>
    </view>
    <button class="btn" bindtap="handleRegister">注 册</button>
    <view class="switch-form">
      <text>已有账号？</text>
      <text class="link" bindtap="toggleForm">立即登录</text>
    </view>
  </view>
</view>